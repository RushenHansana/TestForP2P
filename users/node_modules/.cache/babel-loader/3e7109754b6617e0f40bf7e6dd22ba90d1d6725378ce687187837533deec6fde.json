{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\disan\\\\OneDrive\\\\Documents\\\\NCINGA\\\\Test\\\\users\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect(\"http://localhost:5000\"); // Connect to signaling server\n\nfunction App() {\n  _s();\n  const [roomID, setRoomID] = useState(\"\");\n  const [stream, setStream] = useState(null);\n  const myVideo = useRef();\n  useEffect(() => {\n    // Extract room ID from URL\n    const url = window.location.href;\n    const splitURL = url.split(\"/\");\n    const roomIDFromURL = splitURL[splitURL.length - 1];\n    setRoomID(roomIDFromURL);\n    console.log(\"Room ID:\", roomIDFromURL);\n\n    // Get user media\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(stream => {\n      setStream(stream);\n      myVideo.current.srcObject = stream;\n    }).catch(error => {\n      console.error(\"Error accessing media devices:\", error);\n    });\n\n    // Establish connection with signaling server\n    socket.emit(\"joinRoom\", roomIDFromURL);\n\n    // Handle ICE candidates received from signaling server\n    socket.on(\"receiveIceCandidate\", data => {\n      // Handle ICE candidate\n      // Add the ICE candidate to the peer connection\n    });\n\n    // Handle call accepted\n    socket.on(\"callAccepted\", signal => {\n      // Handle call accepted event\n      // Update peer connection with the received signal\n    });\n    return () => {\n      // Clean up event listeners\n      socket.off(\"receiveIceCandidate\");\n      socket.off(\"callAccepted\");\n    };\n  }, []);\n  const handleToggleMic = () => {\n    if (stream) {\n      const audioTracks = stream.getAudioTracks();\n      audioTracks.forEach(track => {\n        track.enabled = !track.enabled;\n      });\n    }\n  };\n  const handleToggleCamera = () => {\n    if (stream) {\n      const videoTracks = stream.getVideoTracks();\n      videoTracks.forEach(track => {\n        track.enabled = !track.enabled;\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      ref: myVideo,\n      autoPlay: true,\n      muted: true,\n      style: {\n        width: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleToggleMic,\n      children: \"Toggle Mic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleToggleCamera,\n      children: \"Toggle Camera\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"DW3oOQ/ZUD8zW5EEf/W7h8vhi+o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","jsxDEV","_jsxDEV","socket","connect","App","_s","roomID","setRoomID","stream","setStream","myVideo","url","window","location","href","splitURL","split","roomIDFromURL","length","console","log","navigator","mediaDevices","getUserMedia","video","audio","then","current","srcObject","catch","error","emit","on","data","signal","off","handleToggleMic","audioTracks","getAudioTracks","forEach","track","enabled","handleToggleCamera","videoTracks","getVideoTracks","children","ref","autoPlay","muted","style","width","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/disan/OneDrive/Documents/NCINGA/Test/users/src/App.js"],"sourcesContent":["// App.js\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst socket = io.connect(\"http://localhost:5000\"); // Connect to signaling server\r\n\r\nfunction App() {\r\n  const [roomID, setRoomID] = useState(\"\");\r\n  const [stream, setStream] = useState(null);\r\n  const myVideo = useRef();\r\n\r\n  useEffect(() => {\r\n    // Extract room ID from URL\r\n    const url = window.location.href;\r\n    const splitURL = url.split(\"/\");\r\n    const roomIDFromURL = splitURL[splitURL.length - 1];\r\n    setRoomID(roomIDFromURL);\r\n    console.log(\"Room ID:\", roomIDFromURL);\r\n\r\n    // Get user media\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      })\r\n      .then((stream) => {\r\n        setStream(stream);\r\n        myVideo.current.srcObject = stream;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error accessing media devices:\", error);\r\n      });\r\n\r\n    // Establish connection with signaling server\r\n    socket.emit(\"joinRoom\", roomIDFromURL);\r\n\r\n    // Handle ICE candidates received from signaling server\r\n    socket.on(\"receiveIceCandidate\", (data) => {\r\n      // Handle ICE candidate\r\n      // Add the ICE candidate to the peer connection\r\n    });\r\n\r\n    // Handle call accepted\r\n    socket.on(\"callAccepted\", (signal) => {\r\n      // Handle call accepted event\r\n      // Update peer connection with the received signal\r\n    });\r\n\r\n    return () => {\r\n      // Clean up event listeners\r\n      socket.off(\"receiveIceCandidate\");\r\n      socket.off(\"callAccepted\");\r\n    };\r\n  }, []);\r\n\r\n  const handleToggleMic = () => {\r\n    if (stream) {\r\n      const audioTracks = stream.getAudioTracks();\r\n      audioTracks.forEach((track) => {\r\n        track.enabled = !track.enabled;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleToggleCamera = () => {\r\n    if (stream) {\r\n      const videoTracks = stream.getVideoTracks();\r\n      videoTracks.forEach((track) => {\r\n        track.enabled = !track.enabled;\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <video ref={myVideo} autoPlay muted style={{ width: \"300px\" }} />\r\n      <button onClick={handleToggleMic}>Toggle Mic</button>\r\n      <button onClick={handleToggleCamera}>Toggle Camera</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}