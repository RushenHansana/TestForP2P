{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{Button,IconButton}from\"@material-ui/core\";import AssignmentIcon from\"@material-ui/icons/Assignment\";import PhoneIcon from\"@material-ui/icons/Phone\";import MicIcon from\"@material-ui/icons/Mic\";import MicOffIcon from\"@material-ui/icons/MicOff\";import VideocamIcon from\"@material-ui/icons/Videocam\";import VideocamOffIcon from\"@material-ui/icons/VideocamOff\";import{CopyToClipboard}from\"react-copy-to-clipboard\";import Peer from\"simple-peer\";import io from\"socket.io-client\";import companylogo from\"./photos/companylogo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const socket=io.connect(\"http://localhost:5000\");function App(){const[me,setMe]=useState(\"\");const[stream,setStream]=useState(null);const[sessionId,setSessionId]=useState(\"\");const[sessionLink,setSessionLink]=useState(\"\");const[isMicMuted,setIsMicMuted]=useState(false);const[isVideoMuted,setIsVideoMuted]=useState(false);const myVideo=useRef();const userVideo=useRef();const connectionRef=useRef();useEffect(()=>{navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(stream=>{setStream(stream);myVideo.current.srcObject=stream;}).catch(error=>{console.error(\"Error accessing media devices:\",error);});socket.on(\"me\",id=>{setMe(id);});},[]);const toggleMic=()=>{if(stream){const audioTracks=stream.getAudioTracks();audioTracks.forEach(track=>{track.enabled=!track.enabled;});setIsMicMuted(!isMicMuted);}};const toggleCamera=()=>{if(stream){const videoTracks=stream.getVideoTracks();videoTracks.forEach(track=>{track.enabled=!track.enabled;});setIsVideoMuted(!isVideoMuted);}};const createSession=()=>{const sessionId=Math.random().toString(36).substring(7);setSessionId(sessionId);const sessionLink=\"\".concat(window.location.origin,\"/join/\").concat(sessionId);setSessionLink(sessionLink);socket.emit(\"createRoom\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Nav\",children:[/*#__PURE__*/_jsx(\"img\",{src:companylogo,alt:\"\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"headd\",children:\"Instant Meeting\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"video\",children:stream&&/*#__PURE__*/_jsx(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true,style:{width:\"300px\"}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"myId\",children:[/*#__PURE__*/_jsx(CopyToClipboard,{text:sessionLink,style:{marginBottom:\"2rem\"},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(AssignmentIcon,{fontSize:\"large\"}),children:\"Copy Invite Link\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"call-button\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:createSession,children:\"Create Meeting\"})})]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","useState","Button","IconButton","AssignmentIcon","PhoneIcon","MicIcon","MicOffIcon","VideocamIcon","VideocamOffIcon","CopyToClipboard","Peer","io","companylogo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","connect","App","me","setMe","stream","setStream","sessionId","setSessionId","sessionLink","setSessionLink","isMicMuted","setIsMicMuted","isVideoMuted","setIsVideoMuted","myVideo","userVideo","connectionRef","navigator","mediaDevices","getUserMedia","video","audio","then","current","srcObject","catch","error","console","on","id","toggleMic","audioTracks","getAudioTracks","forEach","track","enabled","toggleCamera","videoTracks","getVideoTracks","createSession","Math","random","toString","substring","concat","window","location","origin","emit","children","className","src","alt","playsInline","muted","ref","autoPlay","style","width","text","marginBottom","variant","color","startIcon","fontSize","onClick"],"sources":["C:/Users/disan/OneDrive/Documents/NCINGA/Test/callcenter/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, IconButton } from \"@material-ui/core\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport Peer from \"simple-peer\";\r\nimport io from \"socket.io-client\";\r\nimport companylogo from \"./photos/companylogo.png\";\r\n\r\nconst socket = io.connect(\"http://localhost:5000\");\r\n\r\nfunction App() {\r\n  const [me, setMe] = useState(\"\");\r\n  const [stream, setStream] = useState(null);\r\n  const [sessionId, setSessionId] = useState(\"\");\r\n  const [sessionLink, setSessionLink] = useState(\"\");\r\n  const [isMicMuted, setIsMicMuted] = useState(false);\r\n  const [isVideoMuted, setIsVideoMuted] = useState(false);\r\n\r\n  const myVideo = useRef();\r\n  const userVideo = useRef();\r\n  const connectionRef = useRef();\r\n\r\n  useEffect(() => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      })\r\n      .then((stream) => {\r\n        setStream(stream);\r\n        myVideo.current.srcObject = stream;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error accessing media devices:\", error);\r\n      });\r\n\r\n    socket.on(\"me\", (id) => {\r\n      setMe(id);\r\n    });\r\n  }, []);\r\n\r\n  const toggleMic = () => {\r\n    if (stream) {\r\n      const audioTracks = stream.getAudioTracks();\r\n      audioTracks.forEach((track) => {\r\n        track.enabled = !track.enabled;\r\n      });\r\n      setIsMicMuted(!isMicMuted);\r\n    }\r\n  };\r\n\r\n  const toggleCamera = () => {\r\n    if (stream) {\r\n      const videoTracks = stream.getVideoTracks();\r\n      videoTracks.forEach((track) => {\r\n        track.enabled = !track.enabled;\r\n      });\r\n      setIsVideoMuted(!isVideoMuted);\r\n    }\r\n  };\r\n\r\n  const createSession = () => {\r\n    const sessionId = Math.random().toString(36).substring(7);\r\n    setSessionId(sessionId);\r\n    const sessionLink = `${window.location.origin}/join/${sessionId}`;\r\n    setSessionLink(sessionLink);\r\n    socket.emit(\"createRoom\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Nav\">\r\n        <img src={companylogo} alt=\"\" />\r\n        <h1 className=\"headd\">Instant Meeting</h1>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"video-container\">\r\n          <div className=\"video\">\r\n            {stream && <video playsInline muted ref={myVideo} autoPlay style={{ width: \"300px\" }} />}\r\n          </div>\r\n        </div>\r\n        <div className=\"myId\">\r\n          <CopyToClipboard text={sessionLink} style={{ marginBottom: \"2rem\" }}>\r\n            <Button variant=\"contained\" color=\"primary\" startIcon={<AssignmentIcon fontSize=\"large\" />}>\r\n              Copy Invite Link\r\n            </Button>\r\n          </CopyToClipboard>\r\n          <div className=\"call-button\">\r\n            <Button variant=\"contained\" color=\"primary\" onClick={createSession}>\r\n              Create Meeting\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}